(window.webpackJsonp=window.webpackJsonp||[]).push([[443],{1279:function(s,a,t){"use strict";t.r(a);var n=t(1),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("文件系统是小程序提供的一套以小程序和用户维度隔离的存储以及一套相应的管理接口。通过 "),t("code",[s._v("wx.getFileSystemManager()")]),s._v(" 可以获取到全局唯一的文件系统管理器，所有文件系统的管理操作通过 FileSystemManager 来调用。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" fs "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" wx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getFileSystemManager")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("文件主要分为两大类:")]),s._v(" "),t("ul",[t("li",[s._v("代码包文件: 代码包文件指的是在项目目录中添加的文件。")]),s._v(" "),t("li",[s._v("本地文件: 通过调用接口本地产生，或通过网络下载下来，存储到本地的文件。")])]),s._v(" "),t("p",[s._v("其中本地文件又分为三种:")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("本地临时文件: 临时产生，随时会被回收的文件。不限制存储大小。")])]),s._v(" "),t("li",[t("p",[s._v("本地缓存文件: 小程序通过接口把本地临时文件缓存后产生的文件，不能自定义目录和文件名。跟本地用户文件共计，普通小程序最多可存储 10MB，游戏类目的小程序最多可存储 50MB。")])]),s._v(" "),t("li",[t("p",[s._v("本地用户文件: 小程序通过接口把本地临时文件缓存后产生的文件，允许自定义目录和文件名。跟本地缓存文件共计，普通小程序最多可存储 10MB，游戏类目的小程序最多可存储 50MB。")])])]),s._v(" "),t("h2",{attrs:{id:"代码包文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码包文件"}},[s._v("#")]),s._v(" 代码包文件")]),s._v(" "),t("p",[s._v("由于代码包文件大小限制，代码包文件适用于放置首次加载时需要的文件。")]),s._v(" "),t("h3",{attrs:{id:"访问代码包文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#访问代码包文件"}},[s._v("#")]),s._v(" 访问代码包文件")]),s._v(" "),t("p",[s._v("代码包文件的访问方式是从项目根目录开始写文件路径，不支持相对路径的写法。")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("这个和 Node.js 是不一样的，请特别注意一下。")]),s._v(" "),t("p",[s._v("如: "),t("code",[s._v("/a/b/c")]),s._v("、"),t("code",[s._v("a/b/c")]),s._v(" 都是合法的，"),t("code",[s._v("./a/b/c")]),s._v(" "),t("code",[s._v("../a/b/c")]),s._v(" 则不合法。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://res.wx.qq.com/wxdoc/dist/assets/img/code-package.ea949c8d.png",alt:"path"}})])]),s._v(" "),t("h3",{attrs:{id:"修改代码包文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改代码包文件"}},[s._v("#")]),s._v(" 修改代码包文件")]),s._v(" "),t("p",[s._v("代码包内的文件无法在运行后动态修改或删除，修改代码包文件需要重新发布版本。")]),s._v(" "),t("h3",{attrs:{id:"本地文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地文件"}},[s._v("#")]),s._v(" 本地文件")]),s._v(" "),t("p",[s._v("本地文件指的是小程序被用户添加到手机后，会有一块独立的文件存储区域，以用户维度隔离。即同一台手机，每个微信用户不能访问到其他登录用户的文件，同一个用户不同 appId 之间的文件也不能互相访问。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://res.wx.qq.com/wxdoc/dist/assets/img/file-sandbox.9ef4d15a.png",alt:"本地文件沙盒.png"}})]),s._v(" "),t("p",[s._v("本地文件的文件路径均为以下格式:")]),s._v(" "),t("div",{pre:!0},[t("p",[t("code",[s._v("{{协议名}}://文件路径")])])]),t("blockquote",[t("p",[s._v("其中，协议名在 iOS/Android 客户端为 "),t("code",[s._v('"wxfile"')]),s._v("，在开发者工具上为 "),t("code",[s._v('"http"')]),s._v("，开发者无需关注这个差异，也不应在代码中去硬编码完整文件路径。")])]),s._v(" "),t("h3",{attrs:{id:"本地临时文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地临时文件"}},[s._v("#")]),s._v(" 本地临时文件")]),s._v(" "),t("p",[s._v("本地临时文件只能通过调用特定接口产生，不能直接写入内容。本地临时文件产生后，仅在当前生命周期内有效，重启之后即不可用。因此，不可把本地临时文件路径存储起来下次使用。如果需要下次在使用，可通过 "),t("code",[s._v("FileSystemManager.saveFile()")]),s._v(" 或 "),t("code",[s._v("FileSystemManager.copyFile()")]),s._v(" 接口把本地临时文件转换成本地缓存文件或本地用户文件。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("wx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chooseImage")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("success")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("res")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" tempFilePaths "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// tempFilePaths 的每一项是一个本地临时文件路径")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"本地缓存文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地缓存文件"}},[s._v("#")]),s._v(" 本地缓存文件 "),t("Badge",{attrs:{text:"无需使用",type:"grey"}})],1),s._v(" "),t("p",[s._v("本地缓存文件只能通过调用特定接口产生，不能直接写入内容。本地缓存文件产生后，重启之后仍可用。本地缓存文件只能通过 "),t("code",[s._v("FileSystemManager.saveFile()")]),s._v(" 接口将本地临时文件保存获得。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("fs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("saveFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  tempFilePath"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 传入一个本地临时文件路径")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("success")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("res")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("savedFilePath"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// res.savedFilePath 为一个本地缓存文件路径")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("本地缓存文件是最初的设计，1.7.0 版本开始，提供了功能更完整的本地用户文件，可以完全覆盖本地缓存文件的功能，如果不需要兼容低于 1.7.0 版本，可以不使用本地缓存文件。")])]),s._v(" "),t("h3",{attrs:{id:"本地用户文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地用户文件"}},[s._v("#")]),s._v(" 本地用户文件 "),t("Badge",{attrs:{text:"重要",type:"error"}})],1),s._v(" "),t("blockquote",[t("p",[s._v("从 1.7.0 版本开始新增")])]),s._v(" "),t("p",[s._v("小程序提供了一个用户文件目录，有完全自由的读写权限。通过 "),t("code",[s._v("wx.env.USER_DATA_PATH")]),s._v(" 可以获取到这个目录的路径。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// 在本地用户文件目录下创建一个文件 hello.txt，写入内容 "hello, world"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" fs "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" wx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getFileSystemManager")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nfs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("writeFileSync")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token template-string"}},[t("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("wx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("USER_DATA_PATH")]),t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("/hello.txt")]),t("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello, world"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"utf8"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"读写权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#读写权限"}},[s._v("#")]),s._v(" 读写权限")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("接口、组件")]),s._v(" "),t("th",[s._v("读")]),s._v(" "),t("th",[s._v("写")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("代码包文件")]),s._v(" "),t("td",[s._v("有")]),s._v(" "),t("td",[s._v("无")])]),s._v(" "),t("tr",[t("td",[s._v("本地临时文件")]),s._v(" "),t("td",[s._v("有")]),s._v(" "),t("td",[s._v("无")])]),s._v(" "),t("tr",[t("td",[s._v("本地缓存文件")]),s._v(" "),t("td",[s._v("有")]),s._v(" "),t("td",[s._v("无")])]),s._v(" "),t("tr",[t("td",[s._v("本地用户文件")]),s._v(" "),t("td",[s._v("有")]),s._v(" "),t("td",[s._v("有")])])])]),s._v(" "),t("h3",{attrs:{id:"清理策略"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#清理策略"}},[s._v("#")]),s._v(" 清理策略")]),s._v(" "),t("ul",[t("li",[s._v("本地临时文件只保证在小程序当前生命周期内，一旦小程序被关闭就可能被清理，即下次冷启动不保证可用。")]),s._v(" "),t("li",[s._v("本地缓存文件和本地用户文件的清理时机跟代码包一样，只有在代码包被清理的时会被清理。")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("所以说本地用户文件是十分保险的，本地用户文件一定和小程序文件一起消失。")]),s._v(" "),t("p",[s._v("注: 如果用户太长时间不使用小程序或者手机空间不足，小程序代码包也是可能被杀掉的。这样用户本地的所有数据就会一起丢失。用户再次打开小程序会重新下载小程序代码包并进入初始化流程。")])])])}),[],!1,null,null,null);a.default=e.exports},1521:function(s,a,t){"use strict";t.r(a);var n=t(1),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"文件系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件系统"}},[s._v("#")]),s._v(" 文件系统")]),s._v(" "),t("h2",{attrs:{id:"pwd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pwd"}},[s._v("#")]),s._v(" pwd")]),s._v(" "),t("p",[t("code",[s._v("pwd")]),s._v(" 命令显示列出当前所在的目录。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"cd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cd"}},[s._v("#")]),s._v(" cd")]),s._v(" "),t("p",[t("code",[s._v("cd")]),s._v(" 命令用来改变用户所在的目录。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入用户的主目录")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入前一个工作目录")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" -\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入指定用户的主目录")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~user_name\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"ls"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ls"}},[s._v("#")]),s._v(" ls")]),s._v(" "),t("p",[t("code",[s._v("ls")]),s._v(" 目录可以显示指定目录的内容。不加参数时，显示当前目录的内容。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("上面命令显示当前目录的内容。")]),s._v(" "),t("p",[t("code",[s._v("ls")]),s._v(" 命令也可以显示指定文件是否存在。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" foo.txt\nfoo.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("code",[s._v("-l")]),s._v(" 参数可以显示文件的详细信息。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l foo.txt\n-rw-rw-r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" me   me   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2016")]),s._v("-03-06 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":52 foo.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面命令输出结果的第一栏，是文件的类型和权限。")]),s._v(" "),t("p",[s._v("文件类型分为以下几种。")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-")]),s._v(" 普通文件")]),s._v(" "),t("li",[t("code",[s._v("d")]),s._v(" 目录")]),s._v(" "),t("li",[t("code",[s._v("l")]),s._v(' 符号链接。注意，对于符号链接文件，剩余的文件属性总是"rwxrwxrwx"。')]),s._v(" "),t("li",[t("code",[s._v("c")]),s._v(" 字符设备文件，指按照字节流处理数据的设备，比如调制解调器。")]),s._v(" "),t("li",[t("code",[s._v("b")]),s._v(" 块设备文件，指按照数据块处理数据的设备，比如硬盘。")])]),s._v(" "),t("p",[s._v("其他参数的用法。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示多个目录的内容")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" ~ /usr\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -a --all 显示隐藏文件")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -a\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -A 与-a类似，但是不显示当前目录和上一级目录两个点文件")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -A\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -l 显示详细信息")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -1 单列显示，每行只显示一个文件")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -1\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -d 显示当前目录本身，而不是它的内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通常与-l配合使用，列出一个目录本身的详细信息")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -dl\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -F 目录名之后添加斜杠，可执行文件后面添加星号")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -F\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -h 与-l配合使用，将文件大小显示为人类可读的格式")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -t 按文件修改时间排序，修改晚的排在前面")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -t\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -s 按文件大小排序，")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --reverse 显示结果倒序排列")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -lt --reverse\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br")])]),t("p",[s._v("如果只显示一个目录里面的子目录，不显示文件，可以使用下面这些命令。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只显示常规目录")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -d */\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -F "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" /\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" ^d\n$ tree -dL "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只显示隐藏目录")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -d .*/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 隐藏目录和非隐藏目录都显示")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" -maxdepth "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" -type d\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("另一个简便方法是利用自动补全功能，先键入 "),t("code",[s._v("cd")]),s._v(" 命令，然后连按两下 "),t("code",[s._v("tab")]),s._v(" 键。")]),s._v(" "),t("h2",{attrs:{id:"stat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#stat"}},[s._v("#")]),s._v(" stat")]),s._v(" "),t("p",[t("code",[s._v("stat")]),s._v(" 命令是加强版的 "),t("code",[s._v("ls")]),s._v(" 命令，可以显示一个文件的详细信息。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("stat")]),s._v(" timestamp\nFile: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'timestamp'")]),s._v("\nSize: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Blocks: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" IO Block: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" regular empty "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\nDevice: 803h/2051d Inode: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14265061")]),s._v(" Links: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nAccess: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0644/-rw-r--r--"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Uid: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),s._v("/ me"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Gid: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),s._v("/ me"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nAccess: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2008")]),s._v("-10-08 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":15:39.000000000 -0400\nModify: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2008")]),s._v("-10-08 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":15:39.000000000 -0400\nChange: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2008")]),s._v("-10-08 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":15:39.000000000 -0400\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"touch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#touch"}},[s._v("#")]),s._v(" touch")]),s._v(" "),t("p",[t("code",[s._v("touch")]),s._v(" 用来设置或更新文件的访问，更改，和修改时间。然而，如果一个文件名参数是一个 不存在的文件，则会创建一个空文件。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" timestamp\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("上面命令创建了一个名为 "),t("code",[s._v("timestamp")]),s._v(" 空文件。如果该文件已经存在，就会把它的修改时间设置为当前时间。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p playground/dir-"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("00"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",100"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" playground/dir-"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("00"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",100"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/file-"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("Z"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面的命令创建了一个包含一百个子目录，每个子目录中包含了 26 个空文件。")]),s._v(" "),t("h2",{attrs:{id:"file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#file"}},[s._v("#")]),s._v(" file")]),s._v(" "),t("p",[t("code",[s._v("file")]),s._v(" 命令显示指定文件的类型。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" picture.jpg\npicture.jpg: JPEG image data, JFIF standard "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.01")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"chmod"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#chmod"}},[s._v("#")]),s._v(" chmod")]),s._v(" "),t("p",[t("code",[s._v("chmod")]),s._v(" 命令用于更改文件的权限，是“change mode”的缩写。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v(" foo.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("上面命令将 "),t("code",[s._v("foo.txt")]),s._v(" 的权限改成了 600。")]),s._v(" "),t("p",[t("code",[s._v("chmod")]),s._v(" 还可以接受四个缩写，为不同的对象单独设置权限。")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("u")]),s._v(" 所有者“user”的简写")]),s._v(" "),t("li",[t("code",[s._v("g")]),s._v(" 用户组“group”的缩写")]),s._v(" "),t("li",[t("code",[s._v("o")]),s._v(" 其他所有人“others”的简写")]),s._v(" "),t("li",[t("code",[s._v("a")]),s._v(" 所有人“all”的简写")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为所有者添加可执行权限")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" u+x foo.txt\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除所有者的可执行权限")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" u-x foo.txt\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为所有人添加可执行权限，等价于 a+x")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x foo.txt\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除其他人的读权限和写权限。")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" o-rw foo.txt\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设定用户组和其他人的权限是读权限和写权限")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("go")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("rw foo.txt\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为所有者添加执行权限，设定用户组和其他人为读权限和写权限，多种设定用逗号分隔")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" u+x,go"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("rw foo.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[s._v("添加权限。")]),s._v(" "),t("ul",[t("li",[s._v("+x 添加执行权限")]),s._v(" "),t("li",[s._v("+r 设置读权限")]),s._v(" "),t("li",[s._v("+w 设置写权限")]),s._v(" "),t("li",[s._v("+rwx 设置所有读、写和执行权限。")])]),s._v(" "),t("p",[s._v("删除权限只需将 "),t("code",[s._v("+")]),s._v(" 更改为 "),t("code",[s._v("-")]),s._v("，就可以删除任何已设置的指定权限。可以使用 "),t("code",[s._v("-R")]),s._v("(或 "),t("code",[s._v("--recursive")]),s._v(")选项来递归地操作目录和文件。")]),s._v(" "),t("p",[s._v("设置精确权限，可以使用"),t("code",[s._v("=")]),s._v("代替 "),t("code",[s._v("+")]),s._v(" 或 "),t("code",[s._v("-")]),s._v(" 来实现此操作。如果想为用户、组或其他用户设置不同的权限，可以使用逗号将不同表达式分开(例如 "),t("code",[s._v("ug=rwx,o=rx")]),s._v(")。")]),s._v(" "),t("p",[s._v("由于一共有 3 种可能的权限。也可以使用八进制数代替符号来设置权限。通过这种方式设置的权限最多使用 3 个八进制数。第 1 个数定义用户权限，第 2 个数定义组权限，第 3 个数定义其他权限。这 3 个数中的每一个都通过添加想要的权限设置来构造: 读 (4)、写 (2) 和执行 (1)。")]),s._v(" "),t("ul",[t("li",[s._v("rwx 7")]),s._v(" "),t("li",[s._v("rw- 6")]),s._v(" "),t("li",[s._v("r-x 5")]),s._v(" "),t("li",[s._v("r-- 4")]),s._v(" "),t("li",[s._v("-wx 3")]),s._v(" "),t("li",[s._v("-w- 2")]),s._v(" "),t("li",[s._v("--x 1")]),s._v(" "),t("li",[s._v("--- 0")])]),s._v(" "),t("h2",{attrs:{id:"umask"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#umask"}},[s._v("#")]),s._v(" umask")]),s._v(" "),t("p",[t("code",[s._v("umask")]),s._v(" 用来查看和设置权限掩码。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("umask")]),s._v("\n0022\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("上面命令显示当前系统之中，默认的文件掩码是 "),t("code",[s._v("0022")]),s._v("，转为二进制就是 "),t("code",[s._v("000 000 010 010")]),s._v("。")]),s._v(" "),t("p",[s._v("可以看到，这个掩码是一个 12 位的二进制数，后面的 9 位分别代表文件三种使用对象的三类权限。只要对应位置上是 "),t("code",[s._v("1")]),s._v("，就表示关闭该项权限，所以 "),t("code",[s._v("010")]),s._v(" 就表示关闭读权限。")]),s._v(" "),t("p",[s._v("新建文件时，通常不会带有执行权限，也就是说，新建文件的默认权限是 "),t("code",[s._v("rw-rw-rw-")]),s._v("。如果文件掩码是 "),t("code",[s._v("0022")]),s._v("，那么用户组和其他人的写权限也会被拿掉。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" new.txt\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l new.txt\n-rw-r--r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" me   me   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2016")]),s._v("-03-06 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":52 new.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("上面代码中，"),t("code",[s._v("new.txt")]),s._v(" 的用户组和其他人的写权限就没了。")]),s._v(" "),t("p",[t("code",[s._v("umask")]),s._v(" 后面跟着参数，就表示设置权限掩码。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("umask")]),s._v(" 0000\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("上面命令将权限掩码设为 "),t("code",[s._v("0000")]),s._v("，实际上就是关闭了权限掩码。")]),s._v(" "),t("p",[t("code",[s._v("umask")]),s._v(" 命令设置的掩码值只能在当前 Shell 会话中生效，若当前 Shell 会话结束后，则必须重新设置。")]),s._v(" "),t("h2",{attrs:{id:"du"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#du"}},[s._v("#")]),s._v(" du")]),s._v(" "),t("p",[t("code",[s._v("du")]),s._v(" 命令用于查看指定目录的大小。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" -hs /path/to/directory\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("显示第一层子目录的大小。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" -h --max-depth"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" /path/to/folder\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("参数的含义。")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-h")]),s._v(" 表示人类可读的格式")]),s._v(" "),t("li",[t("code",[s._v("-s")]),s._v(" 表示总结信息，否则会显示该目录内所有文件和子目录的信息。")])]),s._v(" "),t("p",[t("code",[s._v("tree")]),s._v(" 命令也可以显示子目录大小。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("tree --du -h /path/to/directory\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"md5sum"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#md5sum"}},[s._v("#")]),s._v(" md5sum")]),s._v(" "),t("p",[t("code",[s._v("md5sum")]),s._v(" 命令用来显示一个文件的 md5 校验码。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ md5sum image.iso\n34e354760f9bb7fbf85c96f6a3f94ece    image.iso\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"locate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#locate"}},[s._v("#")]),s._v(" locate")]),s._v(" "),t("p",[t("code",[s._v("locate")]),s._v(" 程序快速搜索本机的路径名数据库，并且输出每个与给定字符串相匹配的文件名。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("locate")]),s._v(" bin/zip\n/usr/bin/zip\n/usr/bin/zipcloak\n/usr/bin/zipgrep\n/usr/bin/zipinfo\n/usr/bin/zipnote\n/usr/bin/zipsplit\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[t("code",[s._v("locate")]),s._v(" 数据库由另一个叫做 "),t("code",[s._v("updatedb")]),s._v(" 的程序创建。大多数装有 locate 的系统会每隔一天运行一回 updatedb 程序。因为数据库不能被持续地更新，所以当使用 locate 时，您会发现 目前最新的文件不会出现。为了克服这个问题，可以手动运行 updatedb 程序， 更改为超级用户身份，在提示符下运行 updatedb 命令。")]),s._v(" "),t("p",[t("code",[s._v("locate")]),s._v(" 支持正则查找。"),t("code",[s._v("--regexp")]),s._v(" 参数支持基本的正则表达式，"),t("code",[s._v("--regex")]),s._v(" 参数支持扩展的正则表达式。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("locate")]),s._v(" --regex "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bin/(bz|gz|zip)'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"find"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#find"}},[s._v("#")]),s._v(" find")]),s._v(" "),t("p",[t("code",[s._v("locate")]),s._v(" 程序只能依据文件名来查找文件，而 "),t("code",[s._v("find")]),s._v(" 程序能基于各种各样的属性，搜索一个给定目录(以及它的子目录)，来查找文件。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出当前目录的所有子目录和文件(含子目录)")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示当前目录的文件总数")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前目录的子目录总数")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -type d "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前目录的文件总数(不含子目录)")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -type f "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前目录的文件名匹配“*.JPG”且大于1M的文件总数")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -type f -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\*.JPG"')]),s._v(" -size +1M "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[t("code",[s._v("-type")]),s._v(" 参数支持的文件类型。")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("b")]),s._v(" 块设备文件")]),s._v(" "),t("li",[t("code",[s._v("c")]),s._v(" 字符设备文件")]),s._v(" "),t("li",[t("code",[s._v("d")]),s._v(" 目录")]),s._v(" "),t("li",[t("code",[s._v("f")]),s._v(" 普通文件")]),s._v(" "),t("li",[t("code",[s._v("l")]),s._v(" 符号链接")])]),s._v(" "),t("p",[t("code",[s._v("-size")]),s._v(" 参数支持的文件大小类型。")]),s._v(" "),t("ul",[t("li",[s._v("b 512 个字节块。如果没有指定单位，则这是默认值。")]),s._v(" "),t("li",[s._v("c 字节")]),s._v(" "),t("li",[s._v("w 两个字节的字")]),s._v(" "),t("li",[s._v("k 千字节")]),s._v(" "),t("li",[s._v("M 兆字节")]),s._v(" "),t("li",[s._v("G 千兆字节")])]),s._v(" "),t("p",[t("code",[s._v("find")]),s._v(" 程序支持的查询参数。")]),s._v(" "),t("ul",[t("li",[s._v("-cmin n 匹配的文件和目录的内容或属性最后修改时间正好在 n 分钟之前。指定少于 n 分钟之前，使用 -n，指定多于 n 分钟之前，使用 +n。")]),s._v(" "),t("li",[s._v("-cnewer file 匹配的文件和目录的内容或属性最后修改时间早于那些文件。")]),s._v(" "),t("li",[s._v("-ctime n 匹配的文件和目录的内容和属性最后修改时间在 n*24 小时之前。")]),s._v(" "),t("li",[s._v("-empty 匹配空文件和目录。")]),s._v(" "),t("li",[s._v("-group name 匹配的文件和目录属于一个组。组可以用组名或组 ID 来表示。")]),s._v(" "),t("li",[s._v("-iname pattern 就像-name 测试条件，但是不区分大小写。")]),s._v(" "),t("li",[s._v("-inum n 匹配的文件的 inode 号是 n。这对于找到某个特殊 inode 的所有硬链接很有帮助。")]),s._v(" "),t("li",[s._v("-mmin n 匹配的文件或目录的内容被修改于 n 分钟之前。")]),s._v(" "),t("li",[s._v("-mtime n 匹配的文件或目录的内容被修改于 n*24 小时之前。")]),s._v(" "),t("li",[s._v("-name pattern 用指定的通配符模式匹配的文件和目录。")]),s._v(" "),t("li",[s._v("-newer file 匹配的文件和目录的内容早于指定的文件。当编写 shell 脚本，做文件备份时，非常有帮助。每次您制作一个备份，更新文件(比如说日志)，然后使用 find 命令来决定自从上次更新，哪一个文件已经更改了。")]),s._v(" "),t("li",[s._v("-nouser 匹配的文件和目录不属于一个有效用户。这可以用来查找 属于删除帐户的文件或监测攻击行为。")]),s._v(" "),t("li",[s._v("-nogroup 匹配的文件和目录不属于一个有效的组。")]),s._v(" "),t("li",[s._v("-perm mode 匹配的文件和目录的权限已经设置为指定的 mode。mode 可以用 八进制或符号表示法。")]),s._v(" "),t("li",[s._v("-samefile name 相似于-inum 测试条件。匹配和文件 name 享有同样 inode 号的文件。")]),s._v(" "),t("li",[s._v("-size n 匹配的文件大小为 n。")]),s._v(" "),t("li",[s._v("-type c 匹配的文件类型是 c。")]),s._v(" "),t("li",[s._v("-user name 匹配的文件或目录属于某个用户。这个用户可以通过用户名或用户 ID 来表示。")]),s._v(" "),t("li",[s._v("-depth 指导 find 程序先处理目录中的文件，再处理目录自身。当指定-delete 行为时，会自动 应用这个选项。")]),s._v(" "),t("li",[s._v("-maxdepth levels 当执行测试条件和行为的时候，设置 find 程序陷入目录树的最大级别数")]),s._v(" "),t("li",[s._v("-mindepth levels 在应用测试条件和行为之前，设置 find 程序陷入目录数的最小级别数。")]),s._v(" "),t("li",[s._v("-mount 指导 find 程序不要搜索挂载到其它文件系统上的目录。")]),s._v(" "),t("li",[s._v("-regex 指定正则表达式")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出包括空格或其它不规范字符的文件名或路径名")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -regex "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.*[^-\\_./0-9a-zA-Z].*'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("code",[s._v("find")]),s._v(" 程序还支持逻辑操作符。")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-and")]),s._v(" 如果操作符两边的测试条件都是真，则匹配。可以简写为 -a。注意若没有使用操作符，则默认使用 -and。")]),s._v(" "),t("li",[t("code",[s._v("-or")]),s._v(" 若操作符两边的任一个测试条件为真，则匹配。可以简写为 -o。")]),s._v(" "),t("li",[t("code",[s._v("-not")]),s._v(" 若操作符后面的测试条件是真，则匹配。可以简写为一个感叹号(!)。")]),s._v(" "),t("li",[t("code",[s._v("()")]),s._v(" 把测试条件和操作符组合起来形成更大的表达式。这用来控制逻辑计算的优先级。注意 因为圆括号字符对于 shell 来说有特殊含义，所以在命令行中使用它们的时候，它们必须 用引号引起来，才能作为实参传递给 find 命令。通常反斜杠字符被用来转义圆括号字符。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或关系")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" expression "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" -or "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" expression "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出不是600权限的文件，或者不是700权限的目录")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" ~ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" -type f -not -perm 0600 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" -or "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" -type d -not -perm 0700 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("code",[s._v("find")]),s._v(" 程序的逻辑表达式，具有“短路运算”的特点，即对于 "),t("code",[s._v("expr1 -operator expr2")]),s._v(" 这个表达式，"),t("code",[s._v("expr2")]),s._v(" 不一定执行。这是为了提高运行速度。")]),s._v(" "),t("ul",[t("li",[s._v("expr1 为真，且操作符为 "),t("code",[s._v("-and")]),s._v("，expr2 总是执行")]),s._v(" "),t("li",[s._v("expr1 为假，且操作符为 "),t("code",[s._v("-and")]),s._v("，expr2 从不执行")]),s._v(" "),t("li",[s._v("expr1 为真，且操作符为 "),t("code",[s._v("-or")]),s._v("，expr2 从不执行")]),s._v(" "),t("li",[s._v("expr1 为假，且操作符为 "),t("code",[s._v("-or")]),s._v("，expr2 总是执行")])]),s._v(" "),t("p",[s._v("为了方便执行一些常见操作，"),t("code",[s._v("find")]),s._v(" 程序定义了一些预定义操作。")]),s._v(" "),t("ul",[t("li",[s._v("-delete 删除当前匹配的文件。")]),s._v(" "),t("li",[s._v("-ls 对匹配的文件执行等同的 ls -dils 命令。并将结果发送到标准输出。")]),s._v(" "),t("li",[s._v("-print 把匹配文件的全路径名输送到标准输出。如果没有指定其它操作，这是 默认操作。")]),s._v(" "),t("li",[s._v("-quit 一旦找到一个匹配，退出。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找到匹配的文件，并显示在标准输出")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -print 是默认操作，可以省略")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -print\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除后缀名为BAK的文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行 delete 操作前，最好先执行 print 操作，确认要删除哪些文件")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -type f -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*.BAK'")]),s._v(" -delete\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("预定义操作可以与逻辑表达式，结合使用。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" ~ -type f -and -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*.BAK'")]),s._v(" -and -print\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("除了预定义操作以外，用户还可以使用 "),t("code",[s._v("-exec")]),s._v(" 参数自定义操作。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("-exec "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("上面的命令中，"),t("code",[s._v("command")]),s._v(" 是一个命令行命令，"),t("code",[s._v("{}")]),s._v(" 用来指代当前路径，分号表示命令结束。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 预定义的 -delete 操作，等同于下面的操作")]),s._v("\n-exec "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{}'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("';'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("code",[s._v("-exec")]),s._v(" 使用时，每次找到一个匹配的文件，会启动一个新的指定命令的实例。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" ~ -type f -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'foo*'")]),s._v(" -exec "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{}'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("';'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("执行上面的命令，"),t("code",[s._v("ls")]),s._v(" 程序可能会被调用多次。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l file1\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l file2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("如果想改成 "),t("code",[s._v("ls")]),s._v(" 程序只调用一次，要把 "),t("code",[s._v("find")]),s._v(" 命令里面的分号，改成加号。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l file1 file2\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 相当于")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" ~ -type f -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'foo*'")]),s._v(" -exec "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{}'")]),s._v(" +\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"xargs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xargs"}},[s._v("#")]),s._v(" xargs")]),s._v(" "),t("p",[t("code",[s._v("xargs")]),s._v(" 命令从标准输入接受输入，并把输入转换为一个特定命令的参数列表。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" ~ -type f -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'foo\\*'")]),s._v(" -print "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);